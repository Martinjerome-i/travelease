<div class="container">
  <h1>Payment To Supplier</h1>
  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="supplierId">Supplier Name:</label>
      <select id="supplierId" name="supplierId" (change)="onChange()" [(ngModel)]="supplierSelected" required [ngModelOptions]="{standalone: true}">
          <option [value]="item.id" *ngFor="let item of supplierList">{{ item.nameOfSupplier }}</option>
      </select>
    </div>

    <div class="form-group">
      <label for="paymentOrderId">Order Id:</label>
      <select id="paymentOrderId" name="paymentOrderId" (change)="onChangeOrder()" [(ngModel)]="orderSelected" required [ngModelOptions]="{standalone: true}">
          <option [value]="item.id" *ngFor="let item of orderList">{{ item.orderId }}</option>
      </select>
    </div>
    <h2>Payment Details</h2>
    <div class="table-responsive">
      <table>
        <thead>
          <tr>
            <th>Payment Type</th>
            <th>Estimated Date</th>
            <th>Amt to be Paid</th>
            <th>Actual Date</th>
            <th>Actual Paid</th>
            <th>Payment Mode</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>First Payment</td>
            <td>
              <input type="date"  formControlName="supplierEstimatedFirstPaymentDate" readonly>
            </td>
            <td>
              <input type="text" formControlName="supplierEstimatedFirstPayment" placeholder="Amount to be Paid" readonly>
            </td>
            <td>
              <input type="date" formControlName="supplierActualFirstPaymentDate" required>
            </td>
            <td>
              <input type="text" formControlName="supplierActualFirstPayment" (change)="changeAmountVal()" placeholder="Actual Amount" required>
            </td>
            <td>
              <select id="paymentMode" name="paymentMode" [(ngModel)]="paymentSelectedOne" required [ngModelOptions]="{standalone: true}">
                  <option [value]="item.id" *ngFor="let item of paymentList">{{ item.orderChoices }}</option>
              </select>
            </td>
          </tr>
          <tr>
            <td>Second Payment</td>
            <td>
              <input type="date" formControlName="supplierEstimatedSecondPaymentDate" readonly>
            </td>
            <td>
              <input type="text" formControlName="supplierEstimatedSecondPayment" placeholder="Amount to be Paid" readonly>
            </td>
            <td>
              <input type="date" formControlName="supplierActualSecondPaymentDate" required>
            </td>
            <td>
              <input type="text" formControlName="supplierActualSecondPayment" (change)="changeAmountVal()" placeholder="Actual Amount" required>
            </td>
            <td>
              <select id="paymentMode" name="paymentMode" [(ngModel)]="paymentSelectedTwo" required [ngModelOptions]="{standalone: true}">
                  <option [value]="item.id" *ngFor="let item of paymentList">{{ item.orderChoices }}</option>
              </select>
            </td>
          </tr>
          <tr>
            <td>Third Payment</td>
            <td>
              <input type="date" formControlName="supplierEstimatedThirdPaymentDate"  readonly>
            </td>
            <td>
              <input type="text" formControlName="supplierEstimatedThirdPayment" placeholder="Amount to be Paid" readonly>
            </td>
            <td>
              <input type="date" formControlName="supplierActualThirdPaymentDate" required>
            </td>
            <td>
              <input type="text" formControlName="supplierActualThirdPayment" (change)="changeAmountVal()" placeholder="Actual Amount" required>
            </td>
            <td>
              <select id="paymentMode" name="paymentMode" [(ngModel)]="paymentSelectedThree" required [ngModelOptions]="{standalone: true}">
                  <option [value]="item.id" *ngFor="let item of paymentList">{{ item.orderChoices }}</option>
              </select>
            </td>
          </tr>
        </tbody>
      </table>
    </div>  

    <div class="payment-information" *ngIf="supplierAmountPending > 0">
      <h2>Payment Information</h2>
      <div class="table-responsive">
        <table id="payment-table">
          <tr>
            <td>Total amount to be paid</td>
            <td>{{ supplierAmountToBePaid }}</td>
          </tr>
          <tr>
            <td>Amount paid (current)</td>
            <td>{{ supplierAmountPaid }}</td>
          </tr>
          <tr>
            <td>Pending Amount</td>
            <td>{{ supplierAmountPending }}</td>
          </tr>
        </table>
      </div>
    </div>  
    <button type="submit" [disabled]="form.invalid" class="rightone">Submit</button>
  </form>
</div>
